<!-- projekt4.html -->
<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Spotify Wrapped x Ski Aggu</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <h1 style="text-align:center;">Spotify Wrapped x Ski Aggu</h1>

  <div class="media-row">
    <img src="img/projSWxSA/Aggu2.jpg" alt="Foto 1" class="lightbox-item">
    <video 
  src="vid/spotifywrapped.mp4" 
  autoplay 
  muted 
  loop 
  playsinline
  class="lightbox-item">
</video>
    <img src="img/projSWxSA/Aggu1.jpg" alt="Foto 2" class="lightbox-item">
  </div>

  <!-- Lightbox -->
  <div class="lightbox">
    <span class="close">×</span>
    <img src="" alt="Großansicht">
    <video src="" controls></video>
  </div>

<script>
  const mediaItems = document.querySelectorAll('.media-row img, .media-row video');
  let currentIndex = 0;

  // Lightbox erstellen
  const lightbox = document.createElement('div');
  lightbox.className = 'lightbox';
  lightbox.innerHTML = `
    <span class="close">×</span>
    <span class="arrow left">‹</span>
    <span class="arrow right">›</span>
    <img class="lightbox-img" src="" alt="">
    <video class="lightbox-video" src="" controls></video>
  `;
  document.body.appendChild(lightbox);

  const img = lightbox.querySelector('.lightbox-img');
  const video = lightbox.querySelector('.lightbox-video');
  const close = lightbox.querySelector('.close');
  const left = lightbox.querySelector('.arrow.left');
  const right = lightbox.querySelector('.arrow.right');

  function showItem(index) {
    const item = mediaItems[index];
    if (!item) return;

    // Reset
    img.style.display = 'none';
    video.style.display = 'none';

    if (item.tagName === 'IMG') {
      img.src = item.src;
      img.style.display = 'block';
    } else {
      video.src = item.src;
      video.style.display = 'block';
      video.play();
    }

    lightbox.classList.add('active');
    currentIndex = index;
  }

  mediaItems.forEach((item, index) => {
    item.addEventListener('click', () => showItem(index));
  });

  close.addEventListener('click', () => {
    lightbox.classList.remove('active');
    video.pause();
  });

  left.addEventListener('click', () => {
    currentIndex = (currentIndex - 1 + mediaItems.length) % mediaItems.length;
    showItem(currentIndex);
  });

  right.addEventListener('click', () => {
    currentIndex = (currentIndex + 1) % mediaItems.length;
    showItem(currentIndex);
  });

  // Schließen mit ESC
  document.addEventListener('keydown', e => {
    if (e.key === 'Escape') lightbox.classList.remove('active');
  });
</script>

</body>
</html> 