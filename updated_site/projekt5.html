<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Konzerte</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<div class="custom-cursor"></div>

<h1 style="text-align:center;">Konzerte</h1>

<div class="gallery">
    <video src="vid/konzert.mp4" muted autoplay loop playsinline class="lightbox-item"></video>
  <img src="img/projKonz/Konz1.jpg" alt="Foto 1" data-index="0" class="lightbox-item">
  <img src="img/projKonz/Konz2.jpg" alt="Foto 2" data-index="1" class="lightbox-item">
  <img src="img/projKonz/Konz3.jpg" alt="Foto 3" data-index="2" class="lightbox-item">
  <img src="img/projKonz/Konz4.jpg" alt="Foto 4" data-index="3" class="lightbox-item">
  <img src="img/projKonz/Konz5.jpg" alt="Foto 5" data-index="4" class="lightbox-item">
  <img src="img/projKonz/Konz6.jpg" alt="Foto 6" data-index="5" class="lightbox-item">
  <img src="img/projKonz/Konz7.jpg" alt="Foto 7" data-index="6" class="lightbox-item">
</div>

<div class="footer">
  <a href="impressum.html">Impressum</a>
</div>

<script>
const cursor = document.querySelector(".custom-cursor");

document.addEventListener("mousemove", e => {
  cursor.style.top = e.clientY + "px";
  cursor.style.left = e.clientX + "px";
});

document.querySelectorAll("a, img, .gallery img, .footer a").forEach(el => {
  el.addEventListener("mouseenter", () => cursor.classList.add("hover-grow"));
  el.addEventListener("mouseleave", () => cursor.classList.remove("hover-grow"));
});
</script>

<div class="lightbox">
  <span class="close">×</span>
  <span class="arrow left">‹</span>
  <img src="" alt="Großansicht">
  <span class="arrow right">›</span>
</div>

<script>
  const mediaItems = document.querySelectorAll('.lightbox-item');
  let currentIndex = 0;

  // Lightbox erstellen
  const lightbox = document.createElement('div');
  lightbox.className = 'lightbox';
  lightbox.innerHTML = `
    <span class="close">×</span>
    <span class="arrow left">‹</span>
    <span class="arrow right">›</span>
    <img class="lightbox-img" src="" alt="">
    <video class="lightbox-video" src="" controls></video>
  `;
  document.body.appendChild(lightbox);

  const img = lightbox.querySelector('.lightbox-img');
  const video = lightbox.querySelector('.lightbox-video');
  const close = lightbox.querySelector('.close');
  const left = lightbox.querySelector('.arrow.left');
  const right = lightbox.querySelector('.arrow.right');

  function showItem(index) {
    const item = mediaItems[index];
    if (!item) return;

    // Alles zurücksetzen
    img.style.display = 'none';
    video.style.display = 'none';
    video.pause();
    video.currentTime = 0;

    // Anzeigen je nach Medium
    if (item.tagName === 'IMG') {
      img.src = item.src;
      img.style.display = 'block';
    } else if (item.tagName === 'VIDEO') {
      video.src = item.src;
      video.style.display = 'block';
      video.play();
    }

    lightbox.classList.add('active');
    currentIndex = index;
  }

  // Klick auf ein Medium
  mediaItems.forEach((item, index) => {
    item.addEventListener('click', () => showItem(index));
  });

  // Close Button
  close.addEventListener('click', () => {
    lightbox.classList.remove('active');
    video.pause();
  });

  // Pfeile
  left.addEventListener('click', () => {
    currentIndex = (currentIndex - 1 + mediaItems.length) % mediaItems.length;
    showItem(currentIndex);
  });
  right.addEventListener('click', () => {
    currentIndex = (currentIndex + 1) % mediaItems.length;
    showItem(currentIndex);
  });

  // ESC-Taste zum Schließen
  document.addEventListener('keydown', e => {
    if (e.key === 'Escape') {
      lightbox.classList.remove('active');
      video.pause();
    }
  });
</script>

</body>
</html>